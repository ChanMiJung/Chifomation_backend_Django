{% extends 'base.html' %}
{% load static %}
{% block body %}
<div class="d-flex">
  <button class="w-100 h-20 btn btn-dark" style="height: 100px;" type="button"><div id="typing-target">오늘의 랜덤 치킨</div></button>
</div>
<div>
<input id="mainSearch" class="form-control me-2 rounded-pill search-input" type="search" placeholder="치킨, 브랜드 이름을 검색해보세요" aria-label="Search">
</div>
<h4 style="margin-top: 10%;"><img src="{% static 'media/icon/crown.png' %}" style="width: 30px; margin-bottom: 10px;" alt="">브랜드별 대표 메뉴</h3>
<div id="carouselExampleControls" class="carousel slide w-100" data-bs-ride="carousel" style="background-color: #FFD54C;">
<div class="carousel-inner">
  {% for brand in brands %}
    {% if brand.idx == 1 %}
      <div class="carousel-item active" style="text-align: center;">
        <div style="text-align: center; color: red; font-size: large; font-weight: bold;">{{ brand.brand }}</div>
        {% for chicken in brand.chickens %}
        <div class="card mb-3 w-100" style="max-width: 540px;">
          <div class="row g-0 w-100">
            <div class="col-md-6">
              <img src="{{ chicken.img_url }}" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <h5 class="card-title">{{ chicken.name }}</h5>
                <p class="card-text">
                  {% for tag in chicken.tags %}
                    <div>{{ tag }}</div>
                  {% endfor %}
                </p>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="carousel-item">
        <div style="text-align: center; color: red; font-size: large; font-weight: bold;">{{ brand.brand }}</div>
        {% for chicken in brand.chickens %}
        <div class="card mb-3" style="max-width: 540px;">
          <div class="row g-0">
            <div class="col-md-6">
              <img src="{{ chicken.img_url }}" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-6">
              <div class="card-body">
                <h5 class="card-title">{{ chicken.name }}</h5>
                <p class="card-text">
                  {% for tag in chicken.tags %}
                    <div>{{ tag }}</div>
                  {% endfor %}
                </p>
              </div>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    {% endif %}
  
  {% endfor %}
  <!-- <div class="carousel-item">
    <img src="..." class="d-block w-100" alt="...">
  </div>
  <div class="carousel-item">
    <img src="..." class="d-block w-100" alt="...">
  </div> -->
</div>
<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Previous</span>
</button>
<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
  <span class="carousel-control-next-icon" aria-hidden="true"></span>
  <span class="visually-hidden">Next</span>
</button>
</div>

<h4 style="margin-top:10%;"><img src="{% static 'media/icon/fire.png' %}" style="width: 30px; margin-bottom: 10px;" alt="">브랜드치킨 신메뉴</h4>
<div>
<div class="card mb-2" style="background-color: transparent; border-color: #92DF45;">
  <!-- <div class="card-body"> -->
    <div><img style="width: 100%;" src="{% static 'media/banners/banner_new.png' %}" alt=""></div>
  <!-- </div> -->
</div>
<div class="card mb-2" style="background-color:#F3F3F3; border-color: #F3F3F3;">
  <div class="card-body">
    굽네치킨 불금치킨
  </div>
</div>
<div class="card mb-2" style="background-color: #F3F3F3; border-color: #F3F3F3;">
  <div class="card-body">
    BHC 포테킹
  </div>
</div>
<div class="card mb-2" style="background-color: #F3F3F3; border-color: #F3F3F3;">
  <div class="card-body">
    자담치킨 불패치킨
  </div>
</div>

<h4 style="margin-top:10%;"><img src="{% static 'media/icon/review.png' %}" style="width: 30px; margin-bottom: 10px;" alt="">회원님들의 리뷰</h4>
<div>
  <!-- Viewport element -->
  <div id="carousel" class="flicking-viewport">
    <!-- Camera element -->
    <div class="flicking-camera" style="height: 25rem;">
      <!-- Panels, class names are your choice -->
      <div class="panel">
        <div class="card shadow" style="border-style: none; border-radius: 20px; width: 14rem; height: 24rem; margin: auto 20px;">
          <img src="{% static 'media/chickens/bhc/havanero_poteking_fride.png' %}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">굽네치킨</h5>
            <p class="card-text">
              <h6 style="color: red;">고추바사삭</h6>
              <div>
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
              </div>
              <div>
                치킨에서 약간 탄두리 치킨 맛이 나요. 고블링, 마블링 소스에 찍어 먹으면 더 맛있어요!
                <br>
                <small class="text-muted">by. 굽네굽아니오</small>
              </div>
            </p>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="card shadow" style="border-style: none; border-radius: 20px; width: 14rem; height: 24rem; margin: auto 20px;">
          <img src="{% static 'media/chickens/bhc/havanero_poteking_fride.png' %}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">굽네치킨</h5>
            <p class="card-text">
              <h6 style="color: red;">볼케이노</h6>
              <div>
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
              </div>
              <div>
                저에겐 살짝 맵지만, 불맛이 강하게 나서 좋아요. 치밥으로 강추합니다. bb
                <br>
                <small class="text-muted">by. 볼케이노처돌이</small>
              </div>
            </p>
          </div>
        </div>
      </div>
      <div class="panel">
        <div class="card shadow" style="border-style: none; border-radius: 20px; width: 14rem; height: 24rem; margin: auto 20px;">
          <img src="{% static 'media/chickens/bhc/havanero_poteking_fride.png' %}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">굽네치킨</h5>
            <p class="card-text">
              <h6 style="color: red;">갈비천왕</h6>
              <div>
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
                <img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;">
              </div>
              <div>
                갈비와 치킨의 만남. 맛있어요
                <br>
                <small class="text-muted">by. 웅치킨</small>
              </div>
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<br>
<br>
<script>
  // import Flicking from "@egjs/flicking";
  // import "@egjs/flicking/dist/flicking.css";

  var myCarousel = document.querySelector('#carouselExampleControls')
  var carousel = new bootstrap.Carousel(myCarousel, {
    interval: 5000,
    wrap: true
  });
  const flicking = new Flicking("#carousel", {
    align: "center",
    circular: true,
    bound: true,
    renderOnlyVisible: true
  });
  TypeHangul.type('#typing-target', {
      text: '오늘의 랜덤 치킨',
    });
  setInterval(function(){
    TypeHangul.type('#typing-target', {
      text: '오늘의 랜덤 치킨',
    });
  }, 5000);

  $(document).ready(function() {
    $('#mainNavButton').click(function() {
      $('#mainNav').slideToggle();
    });
    $('#mainSearch').keydown(function(key) {
      if (key.keyCode == 13) {
        var search_text = $('#mainSearch').val().trim();
        if (search_text != '') {
          location.href = 'search?search='+search_text;
        }
      }
    });
  });

</script>
{% endblock %}