{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- <script src="https://unpkg.com/@egjs/flicking/dist/flicking.pkgd.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://unpkg.com/@egjs/flicking/dist/flicking.css" crossorigin="anonymous" /> -->
    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- typing animation -->
    <script src="https://unpkg.com/type-hangul"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/font.css' %}">
    <title>치포메이션</title>
    <style>
      .search-input {
        background-image: url("{% static 'media/icon/search.png'%}");
        background-position: 5px center;
        background-repeat: no-repeat;
        background-size: 20px;
        padding-left: 40px;
        box-sizing: border-box;
        background-color: #B59A72;
      }
      .selected {
        color: #FDBD58 !important;
      }
      .card-text-overflow {
        overflow: hidden; 
        text-overflow: ellipsis; 
        white-space: normal; 
        line-height: 1.2; 
        height: 3.6em; 
        text-align: left; 
        word-wrap: break-word; 
        display: -webkit-box; 
        -webkit-line-clamp: 3; 
        -webkit-box-orient: vertical;
      }
    </style>
  </head>
  <body  style="background-color: #FAF3D9;">
    <div class="container" style="margin-top: 10px; margin-bottom: 10px;">
      <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
          <div class="container">
            <div class="row">
              <div class="col-1 col-sm-2">
                <div id="mainNavButton"><img src="{% static 'media/icon/menu.png' %}" style="width:100%" alt=""></div>
              </div>
              <div class="col-10 col-sm-8" style="text-align: center;">
                <button type="button" onclick="location.href='/'" style="background-color:transparent; border: 0; outline: 0;"><img src="{% static 'media/logos/main_logo.png' %}" style="width:80%" alt=""></button>
              </div>
              <div class="col-1 col-sm-2">
                <div><img src="{% static 'media/icon/profile.png' %}" style="width:100%" alt=""></div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-3"></div>
      </div>
    </div>
    <div class="container" id="mainNav" style="display:none; height: 400px;background-color: #F9A221;">
      <div class="row">
        <div class="col-3"></div>
        <div class="col-3">
          <div class="container">
            <div class="row">
              <div style="color: #704400; font-size: large; font-weight: bold;">브랜드</div>
            </div>
            {% for brand in brands %}
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- {{ brand.brand }}</div>
            </div>
            {% endfor %}
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- BHC</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 교촌치킨</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 굽네치킨</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 노랑통닭</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 네네치킨</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 60계치킨</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 자담치킨</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 페리카나</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 푸라닭</div>
            </div>
          </div>
        </div>
        <div class="col-3">
          <div class="container">
            <div class="row">
              <div style="color: #704400; font-size: large; font-weight: bold;">카테고리</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 후라이드</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 양념</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 간장</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 시즈닝</div>
            </div>
            <div class="row">
              <div style="color: white; font-size: medium; font-weight: bold;">- 기타</div>
            </div>
          </div>
          <div class="container">
            <div class="row">
              <div style="color: #704400; font-size: large; font-weight: bold;">신메뉴</div>
            </div>
          </div>
        </div>
        <div class="col-3"></div>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-3"></div>
        <div class="col-6">
          <div>
            <input id="mainSearch" class="form-control me-2 rounded-pill search-input" type="search" placeholder="치킨, 브랜드 이름을 검색해보세요" value="{{ search_parameter }}" aria-label="Search">

          </div>
          <h4 style="margin-top: 5%;"><img src="{% static 'media/icon/thumb_up.png' %}" style="width: 30px; margin-bottom: 10px; margin-right: 5px;" alt="">추천 해시태그</h3>
          <div>
            <span class="badge rounded-pill" style="background-color: #B19C7B;">#치밥하기 딱 좋은</span>
            <span class="badge rounded-pill" style="background-color: #B19C7B;">#단짠단짠</span>
            <span class="badge rounded-pill" style="background-color: #B19C7B;">#블라블라블라</span>
          </div>
          {% if sub_menu == 'category' %}
          <ul style="margin-top: 5%;" class="list-group list-group-horizontal">
            <li class="list-group-item" style="border-radius: 0; border: 0; outline: 0; background-color: #FDBD58; color: #FEFBF1;">카테고리</li>
            {% for data in sub_menu_data %}
            <li class="list-group-item category-item" style="color: #6C4B24; border: 0; outline: 0; ">{{data.name}}</li>
            {% endfor %}
          </ul>
          {% else %}
          <ul style="margin-top: 5%;" class="list-group list-group-horizontal">
            <li class="list-group-item" style="border-radius: 0; border: 0; outline: 0; background-color: #FDBD58; color: #FEFBF1;">브랜드</li>
            {% for data in sub_menu_data %}
            <li class="list-group-item category-item" style="color: #6C4B24; border: 0; outline: 0; ">{{data.name}}</li>
            {% endfor %}
          </ul>
          {% endif %}
          <div style="margin-top: 5%;" class="row row-cols-1 row-cols-md-1 g-4">
            <div class="col">
              {% for chicken in chickens %}
              <div class="card mb-3 chicken-item" style="max-width: 540px;">
                <input type="hidden" id="chicken_id" value="{{ chicken.id }}">
                <div class="row g-0">
                  <div class="col-md-6">
                    <img src="{% static 'media/chickens/bhc/havanero_poteking_fride.png' %}" class="img-fluid rounded-start" alt="...">
                  </div>
                  <div class="col-md-6" style="background-color: #B59A72;">
                    <div class="card-body">
                      <h5 class="card-title" style="font-family: 'scdream7';">{{ chicken.name }}</h5>
                      <p class="card-text">
                        <div><img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;"> 5.0</div>
                        <div style="margin-top: 5px;" class="card-text-overflow">{{ chicken.introduction }}</div>
                        <div style="margin-top: 5px;" >{{ chicken.cost }}원</div>
                      </p>
                        <!-- <p class="card-text"><img src="{% static 'media/icon/black_star.png' %}" alt="" style="width: 20px;"> 5.0</p>
                        <p class="card-text card-text-overflow">
                          {{ chicken.introduction }}
                        </p>
                        <p class="card-text">{{ chicken.cost }}원</p> -->
                    </div>
                  </div>
                </div>
              </div>
              {% endfor %}
            </div>
          </div>
        </div>
        <div class="col-3"></div>
        </div>
    </div>
    

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
    <script src="https://unpkg.com/@egjs/flicking/dist/flicking.pkgd.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://unpkg.com/@egjs/flicking/dist/flicking.css" crossorigin="anonymous" />
    <script>
      $(document).ready(function() {
        $('#mainNavButton').click(function() {
          $('#mainNav').slideToggle();
        });
        $('#mainSearch').keydown(function(key) {
          if (key.keyCode == 13) {
            var search_text = $('#mainSearch').val().trim();
            if (search_text != '') {
              location.href = 'search?search='+search_text;
            }
          }
        });
        $(".category-item").each(function() {
          $(this).click(function() {
            $(this).addClass("selected");
            $(this).siblings().removeClass("selected")
          });
        });
        $(".chicken-item").each(function() {
          $(this).click(function() {
            location.href = 'detail/'+ $('#chicken_id').val().trim();
          });
        });
      });
      

    </script>
  </body>
</html>

